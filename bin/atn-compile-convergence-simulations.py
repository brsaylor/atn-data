#!/usr/bin/env python3

""" Compiles data generated by atn-generate-convergence-simulations.py.
The data is originally stored as all other simulation data under $DATA_HOME,
and the metadata about the data generation process is stored in
$DATA_HOME/sequences/cvg-sequence-n, where `n` is a sequence number.
The results will be stored in the given directory, which must not exist.
"""

import argparse

from atntools import convergenceprocess

parser = argparse.ArgumentParser(description=globals()['__doc__'])
parser.add_argument('sequence_numbers', nargs='+', type=int,
                    help="Sequence numbers to include (the 'n' in $DATA_HOME/cvg-sequence-n)")
parser.add_argument('output_dir', help="Output directory for compiled data")
args = parser.parse_args()

convergenceprocess.compile_data(args.sequence_numbers, args.output_dir)
